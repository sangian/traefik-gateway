# =============================================================================
# Traefik Gateway Configuration
# =============================================================================
#
# QUICK START:
#   1. Copy this file: cp .env.example .env
#   2. Fill in your domain and email
#   3. Generate dashboard password: ./generate-password.sh
#   4. Run: docker compose up -d
#
# =============================================================================

# =============================================================================
# DOMAIN CONFIGURATION (REQUIRED)
# =============================================================================
# Domain for Traefik dashboard
TRAEFIK_DOMAIN=traefik.yourdomain.com

# =============================================================================
# SSL CONFIGURATION (REQUIRED)
# =============================================================================
# Email for Let's Encrypt SSL certificates
LETSENCRYPT_EMAIL=your-email@example.com

# =============================================================================
# TRAEFIK DASHBOARD AUTHENTICATION (REQUIRED)
# =============================================================================
# Generate with: htpasswd -nb admin yourpassword
# Or use: ./generate-password.sh
# IMPORTANT: Double $$ in docker-compose (escape)
# Example below uses admin:admin (CHANGE THIS!)
TRAEFIK_DASHBOARD_USERS=admin:$$apr1$$KqM8AvLQ$$WwbR6EKdxRaXYmievH.cJ0

# =============================================================================
# TIMEZONE (IANA Timezone e.g. Asia/Jakarta)
# =============================================================================
TZ=UTC

# =============================================================================
# LOGGING
# =============================================================================
TRAEFIK_LOG_LEVEL=INFO

# =============================================================================
# RESOURCE LIMITS
# =============================================================================
TRAEFIK_MEM_LIMIT=256m
TRAEFIK_MEM_RESERVATION=128m
TRAEFIK_CPUS=0.5

# =============================================================================
# RATE LIMITING
# =============================================================================
# Run ./configure-rate-limit.sh to auto-calculate values for your server
# To disable: just don't reference the middleware

# Global rate limit (requests per second)
RATE_LIMIT_AVERAGE=200
RATE_LIMIT_BURST=400

# API rate limit (optional, stricter limits for API endpoints)
# Set to 0 to use same as global
RATE_LIMIT_API_AVERAGE=50
RATE_LIMIT_API_BURST=100
